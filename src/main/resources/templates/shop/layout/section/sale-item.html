<section class="pt-3" th:fragment="sale-list">
    <div class="container mt-5">
        <div class="row pb-3">
            <div class="col-lg-3">
                <div class="fs-5 fw-bolder p-2 border border-warning text-warning rounded-3 mb-3">GIẢM GIÁ ĐẶC BIỆT</div>
            </div>
            <div class="col-lg-5"></div>
            <div class="col-lg-2 text-center"></div>
        </div>
        <div class="row row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
            <div th:each="p: ${sale}">
                <div class="col mb-5">
                    <div class="card h-100">
                        <!-- Sale badge-->
                        <div th:if="${p.tiLeGiamGia > 0}">
                            <div class="badge bg-warning text-white position-absolute"
                                style="top: 0.5rem; right: 0.5rem" th:utext="'- ' + ${p.tiLeGiamGia} + '%'">
                            </div>
                        </div>
                        <!-- Product image-->
                        <div class="image-container">
                            <img class="card-img-top mx-auto" th:src="@{|/shop/image/product/${p.hinhAnh}|}"
                                alt="..." />
                        </div>
                        <!-- Product details-->
                        <div class="card-body p-4 h-75">
                            <div class="text-start">
                                <!-- Product name-->
                                <a th:href="@{|/shop/product/${p.isbn}|}" loading="lazy"
                                    class="text-decoration-none text-black">
                                    <h5 class="fw-bolder ht-2" th:utext="${p.tenSach}"></h5>
                                </a>
                                <!-- Product price-->
                                <div th:if="${p.tiLeGiamGia == 0}">
                                    <p class="text-warning fw-bold"
                                        th:text="${#numbers.formatDecimal(p.giaBan, 3, 'POINT', 0, 'POINT')} + ' đ'">
                                    </p>
                                </div>
                                <div th:if="${p.tiLeGiamGia > 0}" class="justify-content-start d-flex">
                                    <p class="text-warning fw-bold me-3"
                                        th:text="${#numbers.formatDecimal(p.giaGiam, 3, 'POINT', 0, 'POINT')} + ' đ'">
                                    </p>
                                    <span class="text-decoration-line-through text-gray"
                                        th:text="${#numbers.formatDecimal(p.giaBan, 3, 'POINT', 0, 'POINT')} + ' đ'"></span>
                                </div>
                            </div>
                        </div>
                        <!-- Product actions-->
                        <div class="card-footer p-4 justify-content-center border-top-0 bg-transparent d-flex">
                            <div class="text-center">
                                <a class="btn text-bg-warning mt-auto buynow" th:href="@{/shop/buy-now}"
                                    th:data-isbn="${p.isbn}">Mua ngay</a>
                            </div>
                            <div class="text-center ms-3">
                                <button class="btn btn-outline-warning add-to-cart mt-auto"
                                    th:data-isbn="${p.isbn}"><i class="fas fa-cart-plus"></i></button>
                            </div>
                            <div class="text-center ms-3">
                                <a class="btn border border-warning mt-auto"
                                    th:href="@{|/shop/product/add-to-favorite|}" data-isbn="${p.isbn}"><i
                                        class="far fa-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row pb-3">
            <div class="col-lg-5"></div>
            <div class="col-lg-2 text-center">
                <div class="ms-3 fs-5 p-2 border border-dark rounded-3"><a th:href="@{/shop/list-sale}"
                        class="text-decoration-none text-black">Xem
                        thêm...</a></div>
            </div>
            <div class="col-lg-5"></div>
        </div>
</section>